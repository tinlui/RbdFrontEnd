
<div class="buscador">
    <app-autocomplete  (change)="contratoCambio($event)" ></app-autocomplete>
   
    <app-autocomplete-contenido (changeC)="contenidoCambio($event)"></app-autocomplete-contenido>
  
    <div class="contenedor-limpiar">
        <button mat-flat-button (click)="limpiar()" >Limpiar</button>
    </div>
</div>
<span *ngIf="!existe">
    <p>No Hay Datos Para Mostrar</p>
</span>

<h2>Obras</h2>
<app-listado-generico [listado]="Obras">
    <ng-container vacio>
        <p>No hay <b> Contenido</b></p>
    </ng-container>

    <ng-container contenido>
        <mat-table #obras [dataSource]="Obras"  class="mat-elevation-z8 contenedor">
            <ng-container matColumnDef="nuM_OBRA" >
                <th mat-header-cell *matHeaderCellDef style="width: 90px;"> Numero </th>
                <td mat-cell *matCellDef="let row" style="width: 90px;"> {{row.nuM_OBRA}} </td>
            </ng-container>
            <ng-container matColumnDef="nombrE_FICHA">
                <th mat-header-cell *matHeaderCellDef style="width: 400px;"> Nombre </th>
                <td mat-cell *matCellDef="let row"  style="width: 380px;" > {{row.nombrE_FICHA}} </td>
            </ng-container>
            <ng-container matColumnDef="inversion_Original">
                <th mat-header-cell *matHeaderCellDef style="width: 90px;"> Inv. Original </th>
                <td mat-cell *matCellDef="let row" style="width: 90px;"> {{row.inversion_Original}} </td>
            </ng-container>
            <ng-container matColumnDef="techO_FIN">
                <th mat-header-cell *matHeaderCellDef  style="width: 90px;">  Techo Fin. </th>
                <td mat-cell *matCellDef="let row"  style="width: 90px;"> {{row.techO_FIN}} </td>
            </ng-container>
            <ng-container matColumnDef="noM_MUNICIPIO">
                <th mat-header-cell *matHeaderCellDef  style="width: 120px;"> Municipio </th>
                <td mat-cell *matCellDef="let row"  style="width: 110px;"> {{row.noM_MUNICIPIO}} </td>
            </ng-container>
            <ng-container matColumnDef="region">
                <th mat-header-cell *matHeaderCellDef  style="width: 100px;"> Region </th>
                <td mat-cell *matCellDef="let row"  style="width: 100px;"> {{row.region}} </td>
            </ng-container>
            <ng-container matColumnDef="oficio_Autorizacion">
                <th mat-header-cell *matHeaderCellDef  style="width: 100px;"> Of. Autorizacion </th>
                <td mat-cell *matCellDef="let row"  style="width: 100px;"> {{row.oficio_Autorizacion}} </td>
            </ng-container>
            <ng-container matColumnDef="clasificacion_Proyecto">
                <th mat-header-cell *matHeaderCellDef  style="width: 150px;"> Fuente Fin. </th>
                <td mat-cell *matCellDef="let row"  style="width: 150px;"> {{row.clasificacion_Proyecto}} </td>
            </ng-container>
            <ng-container matColumnDef="ejecutor">
                <th mat-header-cell *matHeaderCellDef style="width: 50px;"> Ejecutor </th>
                <td mat-cell *matCellDef="let row" style="width: 50px;"> {{row.ejecutor}} </td>
            </ng-container>
            <ng-container matColumnDef="nombrE_PROGRAMA">
                <th mat-header-cell *matHeaderCellDef> Programa </th>
                <td mat-cell *matCellDef="let row"> {{row.nombrE_PROGRAMA}} </td>
            </ng-container>
            <mat-header-row *matHeaderRowDef="columnasAMostrar"></mat-header-row>
            <mat-row *matRowDef="let row; columns: columnasAMostrar" class="seleccionar"  (click)="cargarContratos(row.nuM_OBRA)"></mat-row>
        </mat-table>
        <mat-paginator [pageSizeOptions]="[5,10,20,50]"
        showFirstLastButtons
        [length]="cantidadTotalRegistrosObras"
        [pageSize]="cantidadRegistrosAMostrarObras"
        (page)="actualizarPaginacionObras($event)">

        </mat-paginator>
    </ng-container>
</app-listado-generico>

<h2>Contratos</h2>
    <app-listado-generico [listado]="modelo">
        <ng-container vacio>
            <p>No hay <b> Contenido</b></p>
        </ng-container>
        <ng-container contenido>
            <table mat-table #contratos [dataSource]="modelo"  class="mat-elevation-z8 contenedor">
                <ng-container matColumnDef="contrato">
                    <th mat-header-cell *matHeaderCellDef style="width: 130px;"> Numero </th>
                    <td mat-cell *matCellDef="let row" style="width: 130px;"> {{row.contrato}} </td>
                </ng-container>
                <ng-container matColumnDef="razon_Social">
                    <th mat-header-cell *matHeaderCellDef style="width: 350px;"> Contratista </th>
                    <td mat-cell *matCellDef="let row" style="width: 330px;"> {{row.razon_Social}} </td>
                </ng-container>
                <ng-container matColumnDef="fecha_cont">
                    <th mat-header-cell *matHeaderCellDef style="width: 80px;"> Fecha </th>
                    <td mat-cell *matCellDef="let row" style="width: 90px;"> {{row.fecha_cont}} </td>
                </ng-container>
                <ng-container matColumnDef="ofaprobaci">
                    <th mat-header-cell *matHeaderCellDef style="width: 110px;"> Of. Aprobacion </th>
                    <td mat-cell *matCellDef="let row" style="width: 100px;"> {{row.ofaprobaci}} </td>
                </ng-container>
                <ng-container matColumnDef="montoaprob">
                    <th mat-header-cell *matHeaderCellDef style="width: 120px;">  Aprobado </th>
                    <td mat-cell *matCellDef="let row" style="width: 120px;"> {{row.montoaprob}} </td>
                </ng-container>
                <ng-container matColumnDef="nuM_OBRA" style="width: 150px;">
                    <th mat-header-cell *matHeaderCellDef style="width: 150px;">  Obra </th>
                    <td mat-cell *matCellDef="let row"> {{row.nuM_OBRA}} </td>
                </ng-container>
                <ng-container matColumnDef="fuente">
                    <th mat-header-cell *matHeaderCellDef style="width: 120px;">  Origen </th>
                    <td mat-cell *matCellDef="let row" style="width: 120px;"> {{row.fuente}} </td>
                </ng-container>
                <mat-header-row *matHeaderRowDef="contratosAMostrar"></mat-header-row>
                <mat-row class="seleccionar" *matRowDef="let row; columns: contratosAMostrar" (click)="cargarDocumentacion(row.contrato)"  ></mat-row>
            </table>
            <mat-paginator [pageSizeOptions]="[5,10,20,50]"
            showFirstLastButtons
            [length]="cantidadTotalRegistros"
            [pageSize]="cantidadRegistrosAMostrar"
            (page)="actualizarPaginacion($event)">
    
            </mat-paginator>
        </ng-container>
    </app-listado-generico>